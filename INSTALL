■ SDIC インストールガイド

この文書では、SDIC を手軽にインストールする手順について説明しています。
最も入手しやすい辞書データとして、「窓の杜」などで配布されている「GENE 
辞書」があり、この辞書を使う場合のインストール方法について主に説明しま
す。

  * GENE95辞書  http://www.forest.impress.co.jp/dict.html#gene95
  * EDICT辞書   ftp://ftp.u-aizu.ac.jp/pub/SciEng/nihongo/ftp.cc.monash.edu.au/



◎ インストール手順 ( UNIX 環境の場合 )

(1) このファイルと同じディレクトリに「GENE辞書」のデータ gene95.lzh ま
    たは gene95.tar.gz と、「EDICT辞書」のデータ edict.gz を置いて下さ
    い。( make dict する時に自動的に展開されますので、手動で展開す
    る必要はありません。)

(2) ./configure を実行して、インストール先のディレクトリと、デフォルトで
    利用する辞書を自動設定します。

    「GENE辞書」は英和辞書なのですが、これを和英辞書に変換するためのス
    クリプト jgene.perl が同梱されています。これを利用して「GENE辞書」
    を和英辞書としても利用する場合は、「EDICT辞書」のデータは要りませ
    ん。この変換には数分かかります。

    逆に、「EDICT辞書」は和英辞書なのですが、これを英和辞書に変換して
    利用することもできます。この場合は「GENE辞書」のデータが不要となり
    ます。この変換には数分かかります。

    主なオプション
      --with-emacs=EMACS      compile with EMACS [EMACS=emacs, xemacs...]
        + 使用する Emacs の種類を指定する
      --with-lispdir=DIR      emacs lisp files go to DIR [guessed]
        + Lispプログラムをインストールするディレクトリを指定する
      --with-dictdir=DIR      dictionary files go to DIR [/usr/dict]
        + 辞書ファイルをインストールするディレクトリを指定する
      --with-dicttype=TYPE    use TYPE of dictionaries [sdic]
        + 辞書の種類を指定する sdic または dic

(3) make を実行してLispプログラムを作成します。

(4) make dict を実行して辞書ファイルを作成します。

    既に辞書ファイルがインストールされているならば、、辞書ファ
    イルを再作成する必要はありません。ただし、ディフォルトの
    ディレクトリ (/usr/dict) 以外に辞書ファイルを格納してい
    る場合は、 configure 時に --with-dictdir=DIR オプション
    で、そのディレクトリを指定してください。

(5) make install を実行して Lispプログラムをインストールします。
    インストール先のディレクトリによっては root 特権が必要です。

(6) make install-dict を実行して辞書ファイルをインストールします。
    インストール先のディレクトリによっては root 特権が必要です。

    既に辞書ファイルがインストールされているならば、再インス
    トールする必要はありません。

(7) Info が必要ならば、make install-info を実行してください。ただし、
    Emacs のバージョンによっては正常に処理できない場合があります。その
    場合は、直接 sdic.texi を Emacs で読み込んでから、
    M-x texinfo-format-buffer を行ってください。

(8) ~/.emacs を編集して個人設定を行います。sample.emacs に設定例が入っ
    ていますので、参考にしてください。この設定をそのまま使う場合は、

        make config

    とすれば設定が完了します。Mule/Emacs 上で C-c w とタイプすると、
    sdic-mode が起動するはずです。

    Emacs20 の場合は、更に、

        (set-language-environment "Japanese")
        (set-terminal-coding-system 'euc-japan)

    と設定されているか確認してください。

    また、XEmacs の場合は、

        (set-language-environment "Japanese")
	(set-default-coding-systems 'euc-japan)

    と .emacs に設定されているか確認してください。
	



◎ インストール手順 ( Windows 環境の場合 )

Windows 環境では、必要なコマンドが不足しているために、上記の UNIX 用の
インストール手順を実行することは困難です。そのため、Mule for windows 
または Meadow 以外のコマンドを必要としないような簡易インストールスクリ
プトを用意しました。以下にその手順を説明します。

(1) GENE辞書のデータ gene95.lzh または gene95.tar.gz を展開して、
    gene.txt をこのファイルと同じディレクトリに置いて下さい。

(2) EDICT辞書のデータ edict.gz を展開して、edict をこのファイルと同じ
    ディレクトリに置いて下さい。

(3) 次のコマンドを実行して、インストールを行ないます。

        mule -batch -q -l install.el -f make-sdic

    このスクリプトは、実行された Meadow の環境から適切なインストール先
    を推定して、インストールを実行します。実際に何処にインストールされ
    るか確認したい場合は、次のようにしてください。

        mule -batch -q -l install.el -f make-sdic -n

    インストール先のディレクトリを変更したい場合は、以下のオプションで
    指定してください。

      --with-lispdir=DIR      emacs lisp files go to DIR [guessed]
        + Lispプログラムをインストールするディレクトリを指定する
      --with-dictdir=DIR      dictionary files go to DIR [guessed]
        + 辞書ファイルをインストールするディレクトリを指定する
      --infodir=DIR           Info files go to DIR [guessed]
	+ Info をインストールするディレクトリを指定する%

    なお、これらのオプションは、`-f make-sdic' よりも後に指定するよう
    にしてください。

    既に辞書ファイルがインストールされている場合は、(1),(2) の処理は必
    要ありません。ただし、デフォルト以外のディレクトリに辞書をインストー
    ルした場合は、そのディレクトリをオプションで指定する必要があります。

(4) ~/.emacs を編集して個人設定を行います。sample.emacs に設定例が入っ
    ていますので、参考にしてください。




◎ 「英辞郎」を使う場合のインストール手順

「英辞郎」とは、Nifty-Serve 英会話フォーラムまたは書籍から入手可能な辞
書です。詳しくはそれらに附属のドキュメントを参照して下さい。単純なテキ
スト形式で配布されている英和辞書としては、おそらく最大のものだと思われ
ますが、残念ながらインターネット上では配布されていません。

「英辞郎」を利用する場合は、まず通常の手順に従って SDIC をインストール
しておきます。次に、同梱の contrib/eijirou.perl を利用して、「英辞郎」
を SDIC 形式の辞書に変換し、SDIC に登録してください。登録手順は、Info 
の「カスタマイズ」の頁に説明してあります。

ただし、「英辞郎」は極めて巨大なので、grep による検索には非常に時間が
かかります。可能ならば SUFARY を利用されることをお勧めします。詳細につ
いては Info を参照して下さい。
